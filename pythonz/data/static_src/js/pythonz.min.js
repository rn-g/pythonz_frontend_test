var pythonz={bootstrap:function(){"use strict";xross.automate(),$(function(){pythonz.makeGeopatterns(),pythonz.markUser(),pythonz.toggleTags(),sitecats.bootstrap(),sitecats.make_cloud("tags_box"),$(".mod__has_tooltip").tooltip()})},toggleTags:function(){"use strict";$.each($(".tags_box"),function(t,e){var n=$(e);0==$(".categories_box",n).length&&n.hide()})},makeGeopatterns:function(){"use strict";$.each($("[data-geopattern]"),function(t,e){var n=$(e);n.css("background-image",GeoPattern.generate(n.data("geopattern")+"a").toDataUrl())})},markUser:function(){"use strict";$(".py_user").each(function(t,e){var n=e.innerHTML.replace(/\[u:(\d+):\s*([^\]]+)\s*\]/g,'<a href="http://pythonz.net/users/$1" title="Профиль на pythonz">$2</a>');$(e).html(n)})},activateCommentsTab:function(t){"use strict";setTimeout(function(){var t=0,e=["comments_vk","comments_fb","comments_disqus","comments_internal"];$.each(e,function(e,n){var o=parseInt($("#"+n+"_cnt").text());o>t&&($('a[href="#'+n+'"]',"#comments_tabs").tab("show"),t=o)})},t)},initEditor:function(t){"use strict";function e(t,e,n,o){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){var a,r=n[0],s=n[1],i=t.getCursor("start"),l=t.getCursor("end");o&&(s=s.replace("#url#",o)),e?(r=(a=t.getLine(i.line)).slice(0,i.ch),s=a.slice(i.ch),t.replaceRange(r+s,{line:i.line,ch:0})):(a=t.getSelection(),t.replaceSelection(r+a+s),i.ch+=r.length,i!==l&&(l.ch+=r.length)),t.setSelection(i,l),t.focus()}}function n(t,n){e(t.codemirror,t.getState()[n],t.options.insertTexts[n])}function o(t,e,o){return{name:t,action:function(e){n(e,t)},className:"fa fa-"+e,title:o}}if(t)return new SimpleMDE({element:t,forceSync:!0,indentWithTabs:!1,spellChecker:!1,toolbar:["bold","italic",o("accent","flag","Акцент"),o("quote","quote-left","Цитата"),o("list_ul","list-ul","Маркированный список"),o("table","table","Таблица"),"|","image","link","|",o("note","flag-o","На заметку"),o("warning","exclamation-triangle","Внимание"),o("code","code","Код"),"|",o("gist","github","Gist"),o("podster","headphones","Подкаст с podster.fm"),"|","fullscreen"],insertTexts:{image:[".. image:: ",""],gist:[".. gist:: ",""],note:[".. note:: ",""],warning:[".. warning:: ",""],podster:[".. podster:: ",""],link:["`","<>`_"],accent:["``","``"],table:["\n.. table::\n ","|\n\n\n"],code:["\n.. code::\n","\n\n\n"],quote:["\n```\n","\n```"],list_ul:["\n* ","\n\n"]}})},Reference:{RULE_PYVERSION_ADDED:[/\+py([\w\.]+)/g,'<small><div class="label label-info" title="Актуально с версии"><a href="/versions/named/$1/">$1</a></div></small>'],RULE_PYVERSION_REMOVED:[/-py([\w\.]+)/g,'<small><div class="label label-danger" title="Устрело в версии"><a href="/versions/named/$1/">$1</a></div></small>'],RULE_LITERAL:[/'([^']+)'/g,'<strong class="cl__green">$1</strong>'],RULE_UNDERMETHOD:[/(__[^\s]+__)/g,"<i>$1</i>"],RULE_BASE_TYPES:[/([^\w/])(bool|callable|dict|False|int|iterable|iterator|list|None|object|set|str|True|tuple|unicode)([^\w])/g,"$1<small><code>$2</code></small>$3"],RULE_EXCEPTIONS:[/([^\w])(AttributeError|AssertionError|ImportError|IndexError|KeyError|NotImplementedError|RuntimeError|StopIteration|SyntaxError|SystemError|TypeError|UnboundLocalError|ValueError|OSError)([^\w])/g,'$1<small><div class="label label-warning">$2</div></small>$3'],RULE_EMDASH:[/\s+-\s+/g," &#8212; "],decorateDescription:function(t){"use strict";this.decorateArea(t,[this.RULE_PYVERSION_REMOVED,this.RULE_PYVERSION_ADDED,this.RULE_BASE_TYPES,this.RULE_EXCEPTIONS,this.RULE_EMDASH])},decorateFuncResult:function(t){"use strict";this.decorateArea(t,[this.RULE_PYVERSION_REMOVED,this.RULE_PYVERSION_ADDED,this.RULE_BASE_TYPES,this.RULE_EMDASH])},decorateFuncParams:function(t){"use strict";this.decorateArea(t,[[/([^>\s]+)(\s--)/g,function(t,e,n){return'<small><span class="glyphicon glyphicon-certificate"></span></small> <b>'+(e=e.replace(/([^=]+)(=.+)/g,'$1<span class="text-muted">$2</span>'))+"</b>"+n}],[/--/g,":"],this.RULE_PYVERSION_REMOVED,this.RULE_PYVERSION_ADDED,this.RULE_LITERAL,this.RULE_UNDERMETHOD,this.RULE_BASE_TYPES,this.RULE_EXCEPTIONS,this.RULE_EMDASH])},decorateArea:function(t,e){"use strict";var n=$("#"+t),o=n.html();void 0!==o&&$.each(e,function(t,e){o=o.replace(e[0],e[1])}),n.html(o)}},Map:function(t,e){"use strict";var n=this,o=$("#"+t),a=e;this.getBoundsForCoords=function(t){return ymaps.util.bounds.getCenterAndZoom(t,[o.width(),o.height()])},this.getPlacemarksFromMapObjects=function(t){var e=[],n=0;return void 0===t&&(t=a),$.each(t,function(t,o){var a=o.coords,r=o.title,s=o.descr,i=o.link;e[n]=new ymaps.Placemark(a,{balloonContentHeader:r,balloonContentBody:s,balloonContentFooter:i,clusterCaption:r,place_id:t},{hideIconOnBalloonOpen:!1,preset:"islands#darkBlueCircleDotIcon"}),n++}),e},this.getClusterer=function(){var t=n.getPlacemarksFromMapObjects(),e=new ymaps.Clusterer({preset:"islands#darkBlueClusterIcons",clusterDisableClickZoom:!0,clusterBalloonPanelMaxMapArea:0,clusterBalloonContentLayoutWidth:250,clusterBalloonContentLayoutHeight:100,clusterBalloonLeftColumnWidth:100});return e.add(t),e},this.initMap=function(){ymaps.ready(function(){var t=n.getClusterer(),e=n.getBoundsForCoords(t.getBounds());$.extend(e,{controls:["zoomControl"]}),new ymaps.Map(o.attr("id"),e).geoObjects.add(t)})},n.initMap()}};pythonz.bootstrap();